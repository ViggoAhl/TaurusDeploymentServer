<div class="div-center-layout">
  <table mat-table [dataSource]="dataSource" (updateCenterLayoutComponent)="updateProjectList($event)"
         class="center-table" matSort>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>
    <ng-container matColumnDef="version">
      <th mat-header-cell *matHeaderCellDef>Version</th>
      <td mat-cell *matCellDef="let element"> {{element.version}} </td>
    </ng-container>
    <ng-container matColumnDef="status" mat-sort-header>
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let element"> {{element.status}}
        <ng-container [ngSwitch]="element.pingStatus">
          <div *ngSwitchCase="'GREEN'">
            <img src="assets/images/GreenLight.png">
          </div>
          <div *ngSwitchCase="'YELLOW'">
            <img src="assets/images/YellowLight.png">
          </div>
          <div *ngSwitchCase="'RED'">
            <img src="assets/images/RedLight.png">
          </div>
          <div *ngSwitchDefault>
            <img src="assets/images/RedLight.png">
          </div>
        </ng-container>
      </td>
    </ng-container>
    <ng-container matColumnDef="statusDb" mat-sort-header>
      <th mat-header-cell *matHeaderCellDef>Status Db</th>
      <td mat-cell *matCellDef="let element"> {{element.statusDb}}
        <ng-container [ngSwitch]="element.pingDbStatus">
          <div *ngSwitchCase="'GREEN'">
            <img src="assets/images/GreenLight.png">
          </div>
          <div *ngSwitchCase="'YELLOW'">
            <img src="assets/images/YellowLight.png">
          </div>
          <div *ngSwitchCase="'RED'">
            <img src="assets/images/RedLight.png">
          </div>
          <div *ngSwitchDefault>
            <img src="assets/images/RedLight.png">
          </div>
        </ng-container>
      </td>
    </ng-container>
    <!--
    <ng-container matColumnDef="branches">
      <th mat-header-cell *matHeaderCellDef>Branches</th>
      <td mat-cell *matCellDef="let element">
        <mat-select placeholder="Git branch">
          <mat-option *ngFor="let branch of element.branches" [(ngModel)]="element.checkedOutBranch">
            {{branch}}
          </mat-option>
        </mat-select>
      </td>
      Selected branch: {{branch}}
    </ng-container>
-->
    <ng-container matColumnDef="Deploy">
      <th mat-header-cell *matHeaderCellDef>Deploy</th>
      <td mat-cell *matCellDef="let element">
        <button [disabled]="projectChanges" mat-raised-button (click)="deploy(element)">Deploy</button>
      </td>
    </ng-container>
    <ng-container matColumnDef="Remove">
      <th mat-header-cell *matHeaderCellDef>Remove</th>
      <td mat-cell *matCellDef="let element">
        <button [disabled]="projectChanges" mat-raised-button (click)="remove(element)">Remove</button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
